package com.jym.patpat;

import android.appwidget.AppWidgetManager;
import android.appwidget.AppWidgetProvider;
import android.bluetooth.BluetoothAdapter;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.hardware.usb.UsbManager;
import android.provider.Settings;
import android.support.v4.app.NotificationCompat;
import android.util.Log;
import android.widget.Toast;


public class PatpatWidgetProvider extends AppWidgetProvider {
	
	
	@Override
    public void onDeleted(Context context, int[] appWidgetIds) {
            super.onDeleted(context, appWidgetIds);
            for (int x : appWidgetIds) {
                    ((PatpatWidgetApp) context.getApplicationContext()).DeleteWidget(x);
            }
    }

    @Override
    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {
            super.onUpdate(context, appWidgetManager, appWidgetIds);

            for (int i=0; i<appWidgetIds.length; i++)
            {
                    ((PatpatWidgetApp) context.getApplicationContext()).UpdateWidget(appWidgetIds[i]);
            }
    }

	@Override
	public void onEnabled(Context context) {
		super.onEnabled(context);
		
		
		
		Intent intent = new Intent("com.exam.tab.IntentService_DeviceEvents");
		context.startService(intent);
		
		Intent intent3 = new Intent("com.jym.service.IntentService_TaskTimer");
		context.startService(intent3);
		
	}

	@Override
    public void onReceive(Context context, Intent intent) {
            super.onReceive(context, intent);
            if (intent.getAction().startsWith("com.gueei")) {
                    int id = intent.getIntExtra("widgetId", 0);
                    ((PatpatWidgetApp) context.getApplicationContext()).GetView(id).OnClick();
            }
    }
}